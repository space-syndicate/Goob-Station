# SPDX-FileCopyrightText: 2025 Aiden <28298836+Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 SX_7 <sn1.test.preria.2002@gmail.com>
# SPDX-FileCopyrightText: 2025 deltanedas <39013340+deltanedas@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 deltanedas <@deltanedas:kde.org>
# SPDX-FileCopyrightText: 2025 gluesniffler <159397573+gluesniffler@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entity
  parent: BaseLathe
  id: MedicalBiofabricator
  name: medical biofabricator
  description: Produces organs and other organic matter that can be surgically grafted onto patients with biomass.
  components:
  - type: Sprite
    sprite: _Shitmed/Structures/Machines/limbgrower.rsi
    snapCardinals: true
    layers:
    # CorvaxGoob-MB-sprite-start
    - state: icon
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: unlit
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
    - state: inserting
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
    # CorvaxGoob-MB-sprite-end
  - type: Machine
    board: MedicalBiofabMachineBoard
  - type: MaterialStorage
    whitelist:
      tags:
      - Sheet
      - RawMaterial
  - type: Lathe
    # CorvaxGoob-MB-sprite-start
    idleState: icon
    runningState: building
    unlitIdleState: unlit
    unlitRunningState: unlit-building
    # CorvaxGoob-MB-sprite-end
    staticPacks:
    - BiofabPartsStatic
  - type: EmagLatheRecipes
    emagStaticPacks:
    - BiofabPartsEmagStatic
